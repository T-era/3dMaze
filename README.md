3D Maze & Editor
===

# 3D Maze:  
* 左右ボタンで、回転します。（その場で回転)
* スペースキーで、一歩前進します。
* 上下ボタンで、上下の階に移動します。

# Maze Editor:

## 新しい迷路を作る

1. 画面右上にある□アイコンを押します
2. 名前と迷路のサイズを決めます。
3. フロアマップが表示されます。以降は後述の「迷路を編集する」で説明します。

## 迷路を編集する

新しい迷路を作った場合、またリストの「編集」ボタンを押すと、フロアマップの編集画面が開きます。

* 右側のリストで、編集する階層を選びます。また、フロアごとの色を指定できます。
* 左側のメイン部分で、壁と床・天井を編集します。
    * 黒線が描かれている部分には壁があります。
    * 地図上をクリックすることで壁を追加/削除できます。
    * 小さな三角形は、上下階への通路です。
    * 赤色表示は警告です。(迷路生成に問題はありません)外周の壁がなく、領域外へ出てしまえます。あまりに自由です。
    * 黄色表示は一方通行壁です。入ってくることは出来ますが出てゆくことが出来ません。ゲーム的にありがちな設定です。

### イベント升の設定

各マスには、イベント設定ができます。

* メッセージを表示するイベント
* ワープ
* 回転床

複数設定したら、実行時には上から順に実行します。


### その他マスの設定

全体で一つだけスタート場所の設定ができます。最初はB0の左上のマスがスタートに設定されています。
ゴールは幾つでも設定できます。設定しない限り最初はどこにもゴールはありません。
マスごとに色を変えることもできます。



## 迷路をテキストに出力する
迷路は、ブラウザのローカルストレージに保存しています。
別のPCに移動したり、人に共有する場合にはExport/Import機能を使ってください。

* 編集画面の ExportボタンでJavascriptコードを吐きます。
* ExportしたJavascriptコードを取り込む場合、テキストエリアに貼り付けて、Importボタンを押してください。  
 　      与えられたJavascriptコードはevalします。あまり変なコードを指定すると何かがおきます。自己責任でお願いします。

----

# How to build

* `npm run build`
	* slimrb がインストールされていることが前提になっちゃっています

----

https://ytel.up.seesaa.net/mz/index.html
